<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact & Booking | EBMO LTD</title>
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="images/web-app-manifest-192x192.png" />
    <meta name="theme-color" content="#1d4ed8" />
    <link
      rel="icon"
      type="image/png"
      href="images/favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg" />
    <link rel="shortcut icon" href="images/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="images/apple-touch-icon.png"
    />
    <meta name="apple-mobile-web-app-title" content="EBMO" />
    <link rel="manifest" href="images/site.webmanifest" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-white text-gray-800">
    <!-- Header -->
    <header class="bg-white shadow sticky top-0 z-50">
      <div
        class="container mx-auto px-4 py-4 flex justify-between items-center"
      >
        <h1 class="text-xl font-bold text-blue-700">EBMO LTD</h1>
        <nav class="hidden md:flex space-x-6 font-medium">
          <a href="index.html" class="hover:text-blue-600">Home</a>
          <a href="about.html" class="hover:text-blue-600">About</a>
          <a href="event-catering.html" class="hover:text-blue-600">Catering</a>
          <a href="security-services.html" class="hover:text-blue-600"
            >Security</a
          >
          <a href="cleaning-services.html" class="hover:text-blue-600"
            >Cleaning</a
          >
        </nav>
        <button
          class="md:hidden text-blue-700"
          onclick="document.getElementById('mobile-menu').classList.toggle('hidden')"
        >
          ☰
        </button>
      </div>
      <div
        id="mobile-menu"
        class="hidden md:hidden bg-white px-4 py-4 border-t"
      >
        <a href="index.html" class="block py-2 hover:text-blue-600">Home</a>
        <a href="about.html" class="block py-2 hover:text-blue-600">About</a>
        <a href="event-catering.html" class="block py-2 hover:text-blue-600"
          >Catering</a
        >
        <a href="security-services.html" class="block py-2 hover:text-blue-600"
          >Security</a
        >
        <a href="cleaning-services.html" class="block py-2 hover:text-blue-600"
          >Cleaning</a
        >
      </div>
    </header>

    <!-- Contact Form -->
    <section class="py-16">
      <div class="container mx-auto px-4 max-w-3xl">
        <h2 class="text-3xl font-bold text-center text-blue-700 mb-8">
          Contact & Booking Form
        </h2>
        <form
          class="bg-white p-8 shadow-md rounded space-y-6"
          method="POST"
          action="https://formspree.io/f/myzjrqrj"
          id="contactForm"
        >
          <!-- Basic Info -->
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <label class="block mb-1 font-medium">Full Name</label>
              <input
                type="text"
                name="name"
                required
                class="w-full border border-gray-300 rounded px-4 py-2"
                placeholder="Your Name"
              />
            </div>
            <div>
              <label class="block mb-1 font-medium">Email</label>
              <input
                type="email"
                name="email"
                required
                class="w-full border border-gray-300 rounded px-4 py-2"
                placeholder="you@example.com"
              />
            </div>
          </div>

          <!-- Enquiry Type -->
          <div>
            <label class="block mb-1 font-medium">Type of Enquiry</label>
            <select
              name="enquiryType"
              id="enquiryType"
              required
              class="w-full border border-gray-300 rounded px-4 py-2"
            >
              <option value="">-- Select Type --</option>
              <option value="General Enquiry">General Enquiry</option>
              <option value="Service Booking">Service Booking</option>
            </select>
          </div>

          <!-- Conditional Section: Services -->
          <div id="servicesSection" class="hidden space-y-4">
            <div>
              <label class="block mb-1 font-medium">Select Service</label>
              <select
                name="service"
                id="serviceSelect"
                class="w-full border border-gray-300 rounded px-4 py-2"
              >
                <option value="">-- Select Service --</option>
                <option value="Event Catering">Event Catering</option>
                <option value="Private Security">Private Security</option>
                <option value="Cleaning Services">Cleaning Services</option>
              </select>
            </div>

            <!-- Sub-options -->
            <div id="subOptions" class="hidden">
              <label class="block mb-1 font-medium">Service Type</label>
              <select
                name="subService"
                id="subService"
                class="w-full border border-gray-300 rounded px-4 py-2"
              >
                <!-- Dynamic options loaded by JS -->
              </select>
            </div>

            <div>
              <label class="block mb-1 font-medium">Preferred Date</label>
              <input
                type="date"
                name="date"
                class="w-full border border-gray-300 rounded px-4 py-2"
              />
            </div>
          </div>

          <!-- Message -->
          <div>
            <label class="block mb-1 font-medium">Your Message</label>
            <textarea
              name="message"
              rows="5"
              required
              class="w-full border border-gray-300 rounded px-4 py-2"
              placeholder="Tell us how we can help..."
            ></textarea>
          </div>

          <!-- Submit -->
          <div class="text-center">
            <button
              type="submit"
              class="bg-blue-700 text-white px-6 py-3 rounded hover:bg-blue-800 transition"
            >
              Send Message
            </button>
          </div>
        </form>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white text-sm py-8 text-center">
      <p>© 2025 EBMO LTD | Company No. 16148832</p>
      <p>Flat 13 Bellvue Court, 141-149 Staines Road, Hounslow, TW3 3JB</p>
      <p>
        Email:
        <a href="mailto:info@ebmoltd.co.uk" class="underline"
          >info@ebmoltd.co.uk</a
        >
      </p>
    </footer>
    <script>
      const enquiryType = document.getElementById("enquiryType");
      const servicesSection = document.getElementById("servicesSection");
      const serviceSelect = document.getElementById("serviceSelect");
      const subOptions = document.getElementById("subOptions");
      const subService = document.getElementById("subService");

      const cleaningOptions = [
        "Office Cleaning",
        "End of Tenancy",
        "Carpet Cleaning",
        "Window Cleaning",
      ];

      const securityOptions = [
        "Event Security",
        "Retail Security",
        "CCTV Monitoring",
        "Construction Site Security",
      ];

      enquiryType.addEventListener("change", () => {
        servicesSection.classList.toggle(
          "hidden",
          enquiryType.value !== "Service Booking"
        );
      });

      serviceSelect.addEventListener("change", () => {
        const value = serviceSelect.value;
        subService.innerHTML = "";

        if (value === "Cleaning Services") {
          cleaningOptions.forEach((opt) => {
            subService.innerHTML += `<option value="${opt}">${opt}</option>`;
          });
          subOptions.classList.remove("hidden");
        } else if (value === "Private Security") {
          securityOptions.forEach((opt) => {
            subService.innerHTML += `<option value="${opt}">${opt}</option>`;
          });
          subOptions.classList.remove("hidden");
        } else {
          subOptions.classList.add("hidden");
        }
      });
    </script>

    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", function () {
          navigator.serviceWorker.register("/service-worker.js").then(
            function (reg) {
              console.log(
                "✅ Service Worker registered with scope:",
                reg.scope
              );
            },
            function (err) {
              console.log("❌ Service Worker registration failed:", err);
            }
          );
        });
      }
    </script>
  </body>
</html>
